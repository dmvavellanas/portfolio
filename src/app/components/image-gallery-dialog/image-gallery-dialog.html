<div class="bg-black text-white
            h-[100dvh] sm:h-auto
            p-3 sm:p-6
            flex flex-col">

  <!-- Header -->
  <div class="flex items-center justify-between gap-3 mb-2 sm:mb-4">
    <h2 class="text-base sm:text-xl font-semibold truncate">
      {{ data.title || 'Gallery' }}
    </h2>

    <button
      mat-dialog-close
      class="px-3 py-2 rounded-lg bg-white/10 hover:bg-white/20 transition cursor-pointer"
    >
      Close
    </button>
  </div>

  <!-- Imagen principal -->
  <div class="relative flex-1 flex items-center justify-center">

    <img
      [src]="data.images[index]"
      alt="Gallery image"
      class="w-full h-full
             sm:max-h-[70vh] sm:w-auto
             object-contain
             rounded-lg sm:rounded-xl
             select-none"
    />

    <!-- Controles SOLO desktop -->
    <button
      type="button"
      (click)="prev()"
      class="hidden sm:flex absolute left-4 top-1/2 -translate-y-1/2
             px-3 py-2 rounded-full bg-white/10 hover:bg-white/20 transition"
      aria-label="Previous"
    >
      ‹
    </button>

    <button
      type="button"
      (click)="next()"
      class="hidden sm:flex absolute right-4 top-1/2 -translate-y-1/2
             px-3 py-2 rounded-full bg-white/10 hover:bg-white/20 transition"
      aria-label="Next"
    >
      ›
    </button>

    <!-- Hint SOLO mobile -->
    <div
      class="sm:hidden absolute bottom-4
             text-white/70 text-sm
             bg-white/10 backdrop-blur
             px-4 py-2 rounded-full"
    >
      Swipe to navigate
    </div>
  </div>

  <!-- Indicador -->
  <div class="mt-2 sm:mt-4 text-xs sm:text-sm text-white/70 text-center">
    {{ index + 1 }} / {{ data.images.length }}
    <span class="hidden sm:inline"> (Use ← → keys)</span>
  </div>

  <!-- Miniaturas (más pequeñas en mobile) -->
  <div class="mt-3 sm:mt-4 flex gap-2 overflow-x-auto pb-2">
    @for (img of data.images; track img; let i = $index) {
      <img
        [src]="img"
        alt="Thumbnail"
        class="h-14 w-20 sm:h-16 sm:w-24
               rounded-lg object-cover cursor-pointer
               border-2 transition
               {{ i === index
                    ? 'border-white'
                    : 'border-transparent opacity-60 hover:opacity-100' }}"
        (click)="goTo(i)"
      />
    }
  </div>

</div>